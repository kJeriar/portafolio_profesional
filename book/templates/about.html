{% extends 'base.html' %}
{% load static %}

{% block content %}

<section style="background: var(--bg); color: white; padding: 4rem 0 2rem;">
    <div class="container text-center">
        <h1 class="display-4 fw-bold">Sobre Mí</h1>
        <p class="lead text-secondary">
            Conoce un poco más de la persona detrás del código.
        </p>
    </div>
</section>

<section class="container py-5">
    
    {% if perfil %}
    <div class="row align-items-center g-5">
        
        <div class="col-lg-5 text-center">
            {% if perfil.foto %}
            <img src="{{ perfil.foto.url }}" 
                 alt="{{ perfil.titulo }}" 
                 class="img-fluid rounded shadow-sm border" 
                 style="max-height: 400px; width: auto;">
            {% else %}
            <img src="https://images.unsplash.com/photo-1542831371-29b0f741545e?q=80&w=1000&auto=format&fit=crop" 
                 alt="Código Abstracto" 
                 class="img-fluid rounded shadow-sm border" 
                 style="max-height: 400px; width: auto;">
            {% endif %}
        </div>

        <div class="col-lg-7">
            <h3 class="fw-bold text-dark mb-3">{{ perfil.titulo }} </h3>
            <h5 class="text-muted mb-4">{{ perfil.subtitulo }}</h5>
            
            <div class="text-secondary" style="line-height: 1.8;">
                <p>
                    {{ perfil.bio_parrafo1 }}
                </p>
                {% if perfil.bio_parrafo2 %}
                <p>
                    {{ perfil.bio_parrafo2 }}
                </p>
                {% endif %}
                {% if perfil.bio_parrafo3 %}
                <p>
                    {{ perfil.bio_parrafo3 }}
                </p>
                {% endif %}
            </div>

            <div class="mt-4 d-flex gap-3">
                <a href="{% url 'home' %}#contacto" class="btn btn-gris-oscuro">
                    Contáctame
                </a>
                
                <a href="{% url 'descargar_cv' %}" class="btn btn-gris-claro">
                    Descargar CV
                </a>
            </div>
        </div>

    </div>
    {% else %}
        <div class="text-center alert alert-warning">
            <h4 class="alert-heading">Perfil no configurado</h4>
            <p>Por favor, ve al admin y crea la única entrada de **Perfil Personal** para llenar esta sección.</p>
        </div>
    {% endif %}
</section>

{% endblock %}